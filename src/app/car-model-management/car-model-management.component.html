<h2>Car Model Management</h2>
<!-- Form for creating/updating car models -->
<form [formGroup]="carModelForm" (ngSubmit)="onSubmit()" class="car-model-form">
  <label for="brand">Brand</label>
  <select id="brand" formControlName="brand">
    <option value="">Select a brand</option>
    <option *ngFor="let brand of brands" [value]="brand">{{ brand }}</option>
  </select>
  <div *ngIf="carModelForm.get('brand')?.invalid && (carModelForm.get('brand')?.touched || carModelForm.get('brand')?.dirty)">
    <small class="error">Brand is required.</small>
  </div>

  <label for="class">Class</label>
  <select id="class" formControlName="class">
    <option value="">Select a class</option>
    <option *ngFor="let class of classes" [value]="class">{{ class }}</option>
  </select>
  <div *ngIf="carModelForm.get('class')?.invalid && (carModelForm.get('class')?.touched || carModelForm.get('class')?.dirty)">
    <small class="error">Class is required.</small>
  </div>

  <label for="modelName">Model Name</label>
  <input id="modelName" formControlName="modelName" required />
  <div *ngIf="carModelForm.get('modelName')?.invalid && (carModelForm.get('modelName')?.touched || carModelForm.get('modelName')?.dirty)">
    <small class="error">Model Name is required.</small>
  </div>

  <label for="modelCode">Model Code (Max 10 Alphanumeric)</label>
  <input id="modelCode" formControlName="modelCode" required />
  <div *ngIf="carModelForm.get('modelCode')?.invalid && (carModelForm.get('modelCode')?.touched || carModelForm.get('modelCode')?.dirty)">
    <small class="error">Model Code is required and must be alphanumeric (max 10 characters).</small>
  </div>

  <label for="description">Description</label>
  <textarea id="description" formControlName="description" required></textarea>
  <div *ngIf="carModelForm.get('description')?.invalid && (carModelForm.get('description')?.touched || carModelForm.get('description')?.dirty)">
    <small class="error">Description is required.</small>
  </div>

  <label for="features">Features</label>
  <textarea id="features" formControlName="features" required></textarea>
  <div *ngIf="carModelForm.get('features')?.invalid && (carModelForm.get('features')?.touched || carModelForm.get('features')?.dirty)">
    <small class="error">Features are required.</small>
  </div>

  <label for="price">Price</label>
  <input type="number" id="price" formControlName="price" required />
  <div *ngIf="carModelForm.get('price')?.invalid && (carModelForm.get('price')?.touched || carModelForm.get('price')?.dirty)">
    <small class="error">Price is required and must be greater than 0.</small>
  </div>

  <label for="dateOfManufacturing">Date of Manufacturing</label>
  <input type="date" id="dateOfManufacturing" formControlName="dateOfManufacturing" required />
  <div *ngIf="carModelForm.get('dateOfManufacturing')?.invalid && (carModelForm.get('dateOfManufacturing')?.touched || carModelForm.get('dateOfManufacturing')?.dirty)">
    <small class="error">Date of Manufacturing is required.</small>
  </div>

  <label for="active">Active</label>
  <input type="checkbox" id="active" formControlName="active" />

  <label for="sortOrder">Sort Order</label>
  <input type="number" id="sortOrder" formControlName="sortOrder" required />
  <div *ngIf="carModelForm.get('sortOrder')?.invalid && (carModelForm.get('sortOrder')?.touched || carModelForm.get('sortOrder')?.dirty)">
    <small class="error">Sort Order is required.</small>
  </div>

  <label for="images">Images</label>
  <input type="file" id="images" (change)="onFileSelect($event)" required />
  <div *ngIf="carModelForm.get('images')?.invalid && (carModelForm.get('images')?.touched || carModelForm.get('images')?.dirty)">
    <small class="error">An image file is required.</small>
  </div>

  <button type="submit" [disabled]="carModelForm.invalid">Submit</button>
</form>

<!-- List of car models from fake data -->
<h2>Car Models List</h2>
<ul>
  <li *ngFor="let car of carModels" class="car-model">
    <h3>{{ car.modelName }} ({{ car.modelCode }})</h3>
    <img [src]="getImageUrl(car.imageBase64)" alt="{{ car.modelName }}" class="car-image" />
    <p><strong>Brand:</strong> {{ car.brand }}</p>
    <p><strong>Class:</strong> {{ car.class }}</p>
    <p><strong>Description:</strong> {{ car.description }}</p>
    <p><strong>Features:</strong> {{ car.features }}</p>
    <p><strong>Price:</strong> {{ car.price | currency }}</p>
    <p><strong>Date of Manufacturing:</strong> {{ car.manufacturingDate | date }}</p>
    <p><strong>Active:</strong> {{ car.active }}</p>
    <p><strong>Sort Order:</strong> {{ car.sortOrder }}</p>
  </li>
